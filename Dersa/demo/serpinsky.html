<html>
<body>
<script src="https://www.fpublisher.ru/js/raphael.js"></script>
<script>
var paper = Raphael(600, 100, 650, 650);
var c1 = paper.circle(1, 1, 2);
c1.attr("fill", "#00");
var c2 = paper.circle(1, 600, 2);
c2.attr("fill", "#00");
var c3 = paper.circle(600, 300, 2);
c3.attr("fill", "#00");


var X0 = Math.random() * 600 + 1;
var Y0 = Math.random() * 600 + 1;

paper.circle(X0, Y0, 1);
DrawNext(X0, Y0);


function DrawNext(x, y){
	var i = Math.floor(Math.random() * 3.0);
	switch(i){
		case 0:
			var Xnext = (x - 1)/2;
			var Ynext = (y - 1)/2;
			break;
		case 1:
			var Xnext = (x - 1)/2;
			var Ynext = (600 - y)/2 + y;
			break;
		case 2:
			var Xnext = (600 - x)/2 + x;
			var Ynext = (300 - y)/2 + y;
			break;
	}
	paper.circle(Xnext, Ynext, 0.5);
	setTimeout(DrawNext, 10, Xnext, Ynext);
}


//circle.attr("fill", "#f00");
//circle.attr("stroke", "#fff");
</script>

</body>
</html>